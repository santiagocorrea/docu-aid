{"docstore/data": {"34de67bc-1957-42ee-afdd-91ddeddeb9c0": {"__data__": {"id_": "34de67bc-1957-42ee-afdd-91ddeddeb9c0", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e32f1433-2b3d-4f55-b2a9-2fbf3ff4fe09", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "e7b18e5e2ddeaebba0cc056c3a36fb18564fbec5aa73a18c793c3945bf6ebb3f", "class_name": "RelatedNodeInfo"}}, "text": "Amazon SageMaker controls<a name=\"sagemaker-controls\"></a>\n\nThese controls are related to SageMaker resources\\.", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 113, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0994a139-fb36-42a8-ade6-a6c9d1f173a8": {"__data__": {"id_": "0994a139-fb36-42a8-ade6-a6c9d1f173a8", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "97db4309-e79d-4b54-b36d-cd53030cc303", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "2ffd160d8726163bd134edbc0bfe2cb172fa90e792bf4120bd88ca7c16938f09", "class_name": "RelatedNodeInfo"}}, "text": "\\[SageMaker\\.1\\] Amazon SageMaker notebook instances should not have direct internet access<a name=\"sagemaker-1\"></a>\n\n**Related requirements:** PCI DSS v3\\.2\\.1/1\\.2\\.1, PCI DSS v3\\.2\\.1/1\\.3\\.1, PCI DSS v3\\.2\\.1/1\\.3\\.2, PCI DSS v3\\.2\\.1/1\\.3\\.4, PCI DSS v3\\.2\\.1/1\\.3\\.6, NIST\\.800\\-53\\.r5 AC\\-21, NIST\\.800\\-53\\.r5 AC\\-3, NIST\\.800\\-53\\.r5 AC\\-3\\(7\\), NIST\\.800\\-53\\.r5 AC\\-4, NIST\\.800\\-53\\.r5 AC\\-4\\(21\\), NIST\\.800\\-53\\.r5 AC\\-6, NIST\\.800\\-53\\.r5 SC\\-7, NIST\\.800\\-53\\.r5 SC\\-7\\(11\\), NIST\\.800\\-53\\.r5 SC\\-7\\(16\\), NIST\\.800\\-53\\.r5 SC\\-7\\(20\\), NIST\\.800\\-53\\.r5 SC\\-7\\(21\\), NIST\\.800\\-53\\.r5 SC\\-7\\(3\\), NIST\\.800\\-53\\.r5 SC\\-7\\(4\\), NIST\\.800\\-53\\.r5 SC\\-7\\(9\\)\n\n**Category:** Protect > Secure network configuration\n\n**Severity:** High\n\n**Resource type:** `AWS::SageMaker::NotebookInstance`\n\n**AWS Config rule:** https://docs.aws.amazon.com/config/latest/developerguide/sagemaker-notebook-no-direct-internet-access.html\n\n**Schedule type:** Periodic\n\n**Parameters:** None\n\nThis control checks whether direct internet access is disabled for an SageMaker notebook instance\\. To do this, it checks whether the `DirectInternetAccess` field is disabled for the notebook instance\\. \n\nIf you configure your SageMaker instance without a VPC, then by default direct internet access is enabled on your instance\\. You should configure your instance with a VPC and change the default setting to **Disable\u2014Access the internet through a VPC**\\.\n\nTo train or host models from a notebook, you need internet access\\. To enable internet access, make sure that your VPC has a NAT gateway and your security group allows outbound connections\\. To learn more about how to connect a notebook instance to resources in a VPC, see Connect a notebook instance to resources in a VPC in the *Amazon SageMaker Developer Guide*\\.\n\nYou should also ensure that access to your SageMaker configuration is limited to only authorized users\\. Restrict users' IAM permissions to modify SageMaker settings and resources\\.\n\n**Note**  \nThis control is not supported in the following Regions:  \nAfrica \\(Cape Town\\)\nChina \\(Beijing\\)\nChina \\(Ningxia\\)\nEurope \\(Milan\\)\nMiddle East \\(UAE\\)\n AWS GovCloud \\(US\\-East\\)", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 2186, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "779c80f4-d2e7-4dd1-a109-4009cd3b0ded": {"__data__": {"id_": "779c80f4-d2e7-4dd1-a109-4009cd3b0ded", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5c39758c-2d5b-4ef6-8f3d-f9333e951d06", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "03c20f55131a20bd99b56494ee0c4c2541fdb500acf22e57df7464b99b9d08b9", "class_name": "RelatedNodeInfo"}}, "text": "Remediation<a name=\"sagemaker-1-remediation\"></a>\n\nNote that you cannot change the internet access setting after a notebook instance is created\\. It must be stopped, deleted, and recreated\\.\n\n**To configure an SageMaker notebook instance to deny direct internet access**\n\n1. Open the SageMaker console at https://console.aws.amazon.com/sagemaker/\n\n1. Navigate to **Notebook instances**\\.\n\n1. Delete the instance that has direct internet access enabled\\. Choose the instance, choose **Actions**, then choose stop\\.\n\n   After the instance is stopped, choose **Actions**, then choose **delete**\\.\n\n1. Choose **Create notebook instance**\\. Provide the configuration details\\.\n\n1. Expand the network section, then choose a VPC, subnet, and security group\\. Under **Direct internet access**, choose **Disable\u2014Access the internet through a VPC**\\.\n\n1. Choose **Create notebook instance**\\.\n\nFor more information, see Connect a notebook instance to resources in a VPC in the *Amazon SageMaker Developer Guide*\\.", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 1005, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "80076895-ac4d-4a90-bf51-bb4a1beac028": {"__data__": {"id_": "80076895-ac4d-4a90-bf51-bb4a1beac028", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7d44256f-77d8-49e9-b7a0-f98f8f3eda0c", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "b451eb77aef76ea41b53dd1bbada96aa2ebb15ee40bb13ca37ea23db5912edbb", "class_name": "RelatedNodeInfo"}}, "text": "\\[SageMaker\\.2\\] SageMaker notebook instances should be launched in a custom VPC<a name=\"sagemaker-2\"></a>\n\n**Related requirements:** NIST\\.800\\-53\\.r5 AC\\-21, NIST\\.800\\-53\\.r5 AC\\-3, NIST\\.800\\-53\\.r5 AC\\-3\\(7\\), NIST\\.800\\-53\\.r5 AC\\-4, NIST\\.800\\-53\\.r5 AC\\-4\\(21\\), NIST\\.800\\-53\\.r5 AC\\-6, NIST\\.800\\-53\\.r5 SC\\-7, NIST\\.800\\-53\\.r5 SC\\-7\\(11\\), NIST\\.800\\-53\\.r5 SC\\-7\\(16\\), NIST\\.800\\-53\\.r5 SC\\-7\\(20\\), NIST\\.800\\-53\\.r5 SC\\-7\\(21\\), NIST\\.800\\-53\\.r5 SC\\-7\\(3\\), NIST\\.800\\-53\\.r5 SC\\-7\\(4\\), NIST\\.800\\-53\\.r5 SC\\-7\\(9\\)\n\n**Category:** Protect > Secure network configuration > Resources within VPC\n\n**Severity:** High\n\n**Resource type:** `AWS::SageMaker::NotebookInstance`\n\n**AWS Config rule:** `sagemaker-notebook-instance-inside-vpc`\n\n**Schedule type:** Change triggered\n\n**Parameters:** None\n\nThis control checks if an Amazon SageMaker notebook instance is launched within a custom virtual private cloud \\(VPC\\)\\. This control fails if a SageMaker notebook instance is not launched within a custom VPC or if it is launched in the SageMaker service VPC\\.\n\nSubnets are a range of IP addresses within a VPC\\. We recommend keeping your resources inside a custom VPC whenever possible to ensure secure network protection of your infrastructure\\. An Amazon VPC is a virtual network dedicated to your AWS account\\. With an Amazon VPC, you can control the network access and internet connectivity of your SageMaker Studio and notebook instances\\.\n\n**Note**  \nThis control is not supported in the following Regions:  \nAsia Pacific \\(Jakarta\\)\nChina \\(Beijing\\)\nChina \\(Ningxia\\)\nMiddle East \\(UAE\\)\nAWS GovCloud \\(US\\-East\\)\nAWS GovCloud \\(US\\-West\\)", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 1659, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "095e75e0-37f3-4a2e-82aa-57f9f4856722": {"__data__": {"id_": "095e75e0-37f3-4a2e-82aa-57f9f4856722", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "843c005e-14f7-443b-9959-c19e68acec2f", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "8aafd61dd3d0ad60d9490520e520ce4adcf8fcc7d181faec845a76f55bf4447b", "class_name": "RelatedNodeInfo"}}, "text": "Remediation<a name=\"sagemaker-2-remediation\"></a>\n\nYou can't change the VPC setting after creating a notebook instance\\. Instead, you can delete and recreate the instance\\. For instructions on deleting and creating a notebook instance, see Get started with Amazon SageMaker notebook instances in the *Amazon SageMaker Developer Guide*\\.", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 338, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "423c8321-69f7-4b92-b1bc-abcbf1569c2f": {"__data__": {"id_": "423c8321-69f7-4b92-b1bc-abcbf1569c2f", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "74709d6a-5283-4f59-bab8-293e60004d17", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "a0dc6722acfdc3a4e181de30fd4403eadeb21f04f43ff89faee05bc9a5f99270", "class_name": "RelatedNodeInfo"}}, "text": "\\[SageMaker\\.3\\] Users should not have root access to SageMaker notebook instances<a name=\"sagemaker-3\"></a>\n\n**Related requirements:** NIST\\.800\\-53\\.r5 AC\\-2\\(1\\), NIST\\.800\\-53\\.r5 AC\\-3\\(15\\), NIST\\.800\\-53\\.r5 AC\\-3\\(7\\), NIST\\.800\\-53\\.r5 AC\\-6, NIST\\.800\\-53\\.r5 AC\\-6\\(10\\), NIST\\.800\\-53\\.r5 AC\\-6\\(2\\)\n\n**Category:** Protect > Secure access management > Root user access restrictions\n\n**Severity:** High\n\n**Resource type:** `AWS::SageMaker::NotebookInstance`\n\n**AWS Config rule:** `sagemaker-notebook-instance-root-access-check`\n\n**Schedule type:** Change triggered\n\n**Parameters:** None\n\nThis control checks whether root access is turned on for an Amazon SageMaker notebook instance\\. The control fails if root access is turned on for a SageMaker notebook instance\\.\n\nIn adherence to the principal of least privilege, it is a recommended security best practice to restrict root access to instance resources to avoid unintentionally over provisioning permissions\\.\n\n**Note**  \nThis control is not supported in the following Regions:  \nAsia Pacific \\(Jakarta\\)\nChina \\(Beijing\\)\nChina \\(Ningxia\\)\nMiddle East \\(UAE\\)\nAWS GovCloud \\(US\\-East\\)\nAWS GovCloud \\(US\\-West\\)", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 1179, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8ab6dffe-d279-4e1d-b63e-bfaefd465c29": {"__data__": {"id_": "8ab6dffe-d279-4e1d-b63e-bfaefd465c29", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c86ec4b9-959c-4cff-b812-16c32ba26b7f", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "332e3c52218a3878ea94b3757e12d5f174fd5b5b7c8b0976f2743a0088d32385", "class_name": "RelatedNodeInfo"}}, "text": "Remediation<a name=\"sagemaker-3-remediation\"></a>\n\nTo restrict root access to SageMaker notebook instances, see Control root access to a SageMaker notebook instance in the *Amazon SageMaker Developer Guide*\\.", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 210, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/metadata": {"34de67bc-1957-42ee-afdd-91ddeddeb9c0": {"doc_hash": "d18793ee1e73a9f9e4b6304354cbfddf07cb8bdc3025f8695b81eede35228540", "ref_doc_id": "e32f1433-2b3d-4f55-b2a9-2fbf3ff4fe09"}, "0994a139-fb36-42a8-ade6-a6c9d1f173a8": {"doc_hash": "2e1f5c2b4a8cad813d168fe3cc6510831b116c7499107e9f9985f0b7e7783f59", "ref_doc_id": "97db4309-e79d-4b54-b36d-cd53030cc303"}, "779c80f4-d2e7-4dd1-a109-4009cd3b0ded": {"doc_hash": "58b5c9ccc68682310f3eb04d24cf6074f2aa3bc8cd330f261456571a989c72d0", "ref_doc_id": "5c39758c-2d5b-4ef6-8f3d-f9333e951d06"}, "80076895-ac4d-4a90-bf51-bb4a1beac028": {"doc_hash": "f611daad5039059ba599b8c3cc49bef1650bf97da6425b54b2197087d4077993", "ref_doc_id": "7d44256f-77d8-49e9-b7a0-f98f8f3eda0c"}, "095e75e0-37f3-4a2e-82aa-57f9f4856722": {"doc_hash": "763ed6c9d1d2528b333ac7c83288509a3fc83c7fb4e544c19aa88d3e4150f577", "ref_doc_id": "843c005e-14f7-443b-9959-c19e68acec2f"}, "423c8321-69f7-4b92-b1bc-abcbf1569c2f": {"doc_hash": "b019eef7239f2f4fa009522ead88064c400b915653e5447a5a2bbc4c9da250c6", "ref_doc_id": "74709d6a-5283-4f59-bab8-293e60004d17"}, "8ab6dffe-d279-4e1d-b63e-bfaefd465c29": {"doc_hash": "8a8028fdf870b74935227da366b9fffd4d670f9ec004b43bfd44f0874ab439b4", "ref_doc_id": "c86ec4b9-959c-4cff-b812-16c32ba26b7f"}}, "docstore/ref_doc_info": {"e32f1433-2b3d-4f55-b2a9-2fbf3ff4fe09": {"node_ids": ["34de67bc-1957-42ee-afdd-91ddeddeb9c0"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}, "97db4309-e79d-4b54-b36d-cd53030cc303": {"node_ids": ["0994a139-fb36-42a8-ade6-a6c9d1f173a8"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}, "5c39758c-2d5b-4ef6-8f3d-f9333e951d06": {"node_ids": ["779c80f4-d2e7-4dd1-a109-4009cd3b0ded"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}, "7d44256f-77d8-49e9-b7a0-f98f8f3eda0c": {"node_ids": ["80076895-ac4d-4a90-bf51-bb4a1beac028"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}, "843c005e-14f7-443b-9959-c19e68acec2f": {"node_ids": ["095e75e0-37f3-4a2e-82aa-57f9f4856722"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}, "74709d6a-5283-4f59-bab8-293e60004d17": {"node_ids": ["423c8321-69f7-4b92-b1bc-abcbf1569c2f"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}, "c86ec4b9-959c-4cff-b812-16c32ba26b7f": {"node_ids": ["8ab6dffe-d279-4e1d-b63e-bfaefd465c29"], "metadata": {"file_path": "../../data/sagemaker-controls.md", "file_name": "sagemaker-controls.md", "file_type": "text/markdown", "file_size": 7197, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}}}