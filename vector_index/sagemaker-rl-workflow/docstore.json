{"docstore/data": {"caa4cb32-0f19-439b-a58c-07f3f580b18d": {"__data__": {"id_": "caa4cb32-0f19-439b-a58c-07f3f580b18d", "embedding": null, "metadata": {"file_path": "../../data/sagemaker-rl-workflow.md", "file_name": "sagemaker-rl-workflow.md", "file_type": "text/markdown", "file_size": 4303, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b3258554-f0fe-4221-8e85-49f62564133e", "node_type": "4", "metadata": {"file_path": "../../data/sagemaker-rl-workflow.md", "file_name": "sagemaker-rl-workflow.md", "file_type": "text/markdown", "file_size": 4303, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}, "hash": "90a2c97bb390ee96826d657ead448da0eaf04444e3c61f89ff3f6c3f11e5b620", "class_name": "RelatedNodeInfo"}}, "text": "Sample RL Workflow Using Amazon SageMaker RL<a name=\"sagemaker-rl-workflow\"></a>\n\nThe following example describes the steps for developing RL models using Amazon SageMaker RL\\.\n\nFor complete code examples, see the sample notebooks at https://github\\.com/awslabs/amazon\\-sagemaker\\-examples/tree/master/reinforcement\\-learning\\.\n\n1. **Formulate the RL problem**\u2014First, formulate the business problem into an RL problem\\. For example, auto scaling enables services to dynamically increase or decrease capacity depending on conditions that you define\\. Currently, this requires setting up alarms, scaling policies, thresholds, and other manual steps\\. To solve this with RL, we define the components of the Markov Decision Process:\n\n   1. **Objective**\u2014Scale instance capacity so that it matches the desired load profile\\.\n\n   1. **Environment**\u2014A custom environment that includes the load profile\\. It generates a simulated load with daily and weekly variations and occasional spikes\\. The simulated system has a delay between when new resources are requested and when they become available for serving requests\\.\n\n   1. **State**\u2014The current load, number of failed jobs, and number of active machines\\.\n\n   1. **Action**\u2014Remove, add, or keep the same number of instances\\.\n\n   1. **Reward**\u2014A positive reward for successful transactions and a high penalty for failing transactions beyond a specified threshold\\.\n\n1. **Define the RL environment**\u2014The RL environment can be the real world where the RL agent interacts or a simulation of the real world\\. You can connect open source and custom environments developed using Gym interfaces and commercial simulation environments such as MATLAB and Simulink\\.\n\n1. **Define the presets**\u2014The presets configure the RL training jobs and define the hyperparameters for the RL algorithms\\.\n\n1. **Write the training code**\u2014Write training code as a Python script and pass the script to a SageMaker training job\\. In your training code, import the environment files and the preset files, and then define the `main()` function\\.\n\n1. **Train the RL Model**\u2014Use the SageMaker `RLEstimator` in the Amazon SageMaker Python SDK to start an RL training job\\. If you are using local mode, the training job runs on the notebook instance\\. When you use SageMaker for training, you can select GPU or CPU instances\\. Store the output from the training job in a local directory if you train in local mode, or on Amazon S3 if you use SageMaker training\\.\n\n   The `RLEstimator` requires the following information as parameters\\. \n\n   1. The source directory where the environment, presets, and training code are uploaded\\.\n\n   1. The path to the training script\\.\n\n   1. The RL toolkit and deep learning framework you want to use\\. This automatically resolves to the Amazon ECR path for the RL container\\.\n\n   1. The training parameters, such as the instance count, job name, and S3 path for output\\.\n\n   1. Metric definitions that you want to capture in your logs\\. These can also be visualized in CloudWatch and in SageMaker notebooks\\.\n\n1. **Visualize training metrics and output**\u2014After a training job that uses an RL model completes, you can view the metrics you defined in the training jobs in CloudWatch,\\. You can also plot the metrics in a notebook by using the Amazon SageMaker Python SDK analytics library\\. Visualizing metrics helps you understand how the performance of the model as measured by the reward improves over time\\.\n**Note**  \nIf you train in local mode, you can't visualize metrics in CloudWatch\\.\n\n1. **Evaluate the model**\u2014Checkpointed data from the previously trained models can be passed on for evaluation and inference in the checkpoint channel\\. In local mode, use the local directory\\. In SageMaker training mode, you need to upload the data to S3 first\\.\n\n1. **Deploy RL models**\u2014Finally, deploy the trained model on an endpoint hosted on SageMaker containers or on an edge device by using AWS IoT Greengrass\\.\n\nFor more information on RL with SageMaker, see Using RL with the SageMaker Python SDK\\.", "mimetype": "text/plain", "start_char_idx": 2, "end_char_idx": 4054, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/metadata": {"caa4cb32-0f19-439b-a58c-07f3f580b18d": {"doc_hash": "31ff3e2c96275f2b169029d9d3ef9dd5fe618c061f4a9d3ef84bec8fcca2e0d9", "ref_doc_id": "b3258554-f0fe-4221-8e85-49f62564133e"}}, "docstore/ref_doc_info": {"b3258554-f0fe-4221-8e85-49f62564133e": {"node_ids": ["caa4cb32-0f19-439b-a58c-07f3f580b18d"], "metadata": {"file_path": "../../data/sagemaker-rl-workflow.md", "file_name": "sagemaker-rl-workflow.md", "file_type": "text/markdown", "file_size": 4303, "creation_date": "2024-09-01", "last_modified_date": "2024-09-01"}}}}